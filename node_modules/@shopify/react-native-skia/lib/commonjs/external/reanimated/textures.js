"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useTextureValueFromPicture = exports.useTextureValue = void 0;
var _react = require("react");
var _Offscreen = require("../../renderer/Offscreen");
var _moduleWrapper = require("./moduleWrapper");
const createTextureValue = (texture, picture, size) => {
  "worklet";

  texture.value = (0, _Offscreen.drawAsImageFromPicture)(picture, size);
};
const useTextureValue = (element, size) => {
  const picture = (0, _react.useMemo)(() => {
    return (0, _Offscreen.drawAsPicture)(element);
  }, [element]);
  return useTextureValueFromPicture(picture, size);
};
exports.useTextureValue = useTextureValue;
const useTextureValueFromPicture = (picture, size) => {
  const texture = (0, _moduleWrapper.useSharedValue)(null);
  (0, _react.useEffect)(() => {
    (0, _moduleWrapper.runOnUI)(createTextureValue)(texture, picture, size);
  }, [texture, picture, size]);
  return texture;
};
exports.useTextureValueFromPicture = useTextureValueFromPicture;
//# sourceMappingURL=textures.js.map